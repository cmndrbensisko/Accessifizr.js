<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Accessifizr.js by cmndrbensisko</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/cmndrbensisko/Accessifizr.js">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Accessifizr.js</h1>
            <h2>Accessifizr is a Dojo plugin intended to quickly make web applications tab navigable and compliant with AODA/Section 508 accessibility standards without having to massively modify core application code and UI.</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/cmndrbensisko/Accessifizr.js/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/cmndrbensisko/Accessifizr.js/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>
<a name="accessifizr-09b" class="anchor" href="#accessifizr-09b"><span class="octicon octicon-link"></span></a>Accessifizr 0.9b</h1>

<p>Accessifizr is a Dojo plugin intended to quickly make web applications tab navigable and compliant with AODA/Section 508 accessibility standards without having to massively modify core application code and UI.  Originally developed for use with ESRI Javascript Templates, additional functionality is planned to be rolled into the application with future releases.</p>

<h2>
<a name="basic-usage" class="anchor" href="#basic-usage"><span class="octicon octicon-link"></span></a>Basic Usage</h2>

<p>The current release of Accessifizr is Dojo-powered, so if your application does not currently use the dojo package, it will still need to be imported into your application to use the plugin.  Accessifizr can be quickly loaded into an application as a normal Dojo module, and initiated within your code with a few startup parameters.</p>

<blockquote>
<pre><code>  &lt;script type="text/javascript"&gt;
      require(["js/Accessifizr-0.9","dojo/text!js/handlebars.json", "dojo/domReady!"], function(Accessifizr, data) {
          Accessifizr.init({"data": data});
      });
  &lt;/script&gt;
</code></pre>
</blockquote>

<h2>
<a name="handlebarsjson" class="anchor" href="#handlebarsjson"><span class="octicon octicon-link"></span></a>handlebars.json</h2>

<p>Note that in the initialization example above, a .json file is passed into the module as the 'data' parameter.  The handlebars.json file should contain a valid json object representing a 'roadmap' of your application's UI interface.</p>

<p>Accessifizr will override any inline tabIndex values present in your HTML.</p>

<p>It is responsible for outlining the default Tab Navigation of your application, and detailing how the Navigation should change as users interact with the page.  In the following code sample, note the top-level "tabOrder" key, and the use of CSS selectors to uniquely identify page elements that should recieve a TabIndex value on domReady.</p>

<h3>
<a name="example-1" class="anchor" href="#example-1"><span class="octicon octicon-link"></span></a>Example #1:</h3>

<pre><code>{"tabOrder":
    {"objects":
        [  
            {  
            "id":"#firstControl",
            "tab":1
            },
            {  
                "id":"#secondControl",
                "tab":2
            }
        ]
   }
}
</code></pre>

<p>The above example will, on domReady!, apply a tabIndex of 1 to a control with the id "firstControl", and a tabIndex of 2 to a control with the id "secondControl".  </p>

<p>Page Elements are deferred, meaning that you can specify rules for page elements that may not have completely loaded into the DOM yet.  As soon as a specified element shows up in the DOM, Accessifizr should apply the appropriate Handlebars rule to the element, and stop listening for its arrival.  NOTE: Referencing page controls which never appear in the DOM can lead to redundant listeners and memory leaks.</p>

<h3>
<a name="example-2" class="anchor" href="#example-2"><span class="octicon octicon-link"></span></a>Example #2:</h3>

<pre><code>{"tabOrder":
    {"objects":
        [  
            {  
                "id":"#firstControl",
                "tab":1,
                "clickModes":"click,keyup[13|32]",
                "onClick":{  
                    "objects": 
                        [  
                            {  
                                "id":"#thirdControl",
                                "tab":3
                            }
                        ]
                    }
            },
            {  
                "id":"#secondControl",
                "tab":2
            }
        ]
    }
}
</code></pre>

<p>Typically, if created without the intention of keyboard accessibility, an application's elements will be activated via 'click' events.  The 'onClick' property tells Accessifizr what to do when a page element is interacted with by a user.  It must be paired with the "clickModes" property, which tells Accessifizr which events should be interpreted as the element being 'clicked'.  </p>

<p>In the above example, both a 'click' event and a 'keyup' event on the firstControl element will be interpreted by Accessifizr as a click.  The bar-delineated list next to 'keyup' corresponds to the keycodes that should be interpreted as a valid keyup event.  </p>

<p>In this case, a mouse click, a keyup event on the Enter key (keycode 13), or a keyup event on the Spacebar (keycode 32) will result in a page element with the id "thirdControl" being added to the page's Tab Navigation Order with an Tab Index value of 3.  This would correspond, for instance, to clicking an "OK" button in a modal dialog, resulting in the closing of the dialog box and new dynamic page content being loaded.</p>

<h2>
<a name="event-delegation" class="anchor" href="#event-delegation"><span class="octicon octicon-link"></span></a>Event Delegation:</h2>

<p>Occasionally, you may not want events on one page element to activate any functionality on that particular element, and it would be more suitable to execute an event on another control instead.  The "clickModes" property can optionally be paired with two parameters that can further detail how the event will be interpreted by Accessifizr:</p>

<p>1)  A "clickControl" property tells Accessifizr which control to dispatch an event to when one of the specified clickModes is detected.  This defaults to the focused element itself, but it can be delegated to another object as well.  It must be paired with the following property:</p>

<p>2)  A "clickControlEvt" tells Accessifizr what type of event to dispatch to the control specified in clickControl.  This defaults to 'click'.</p>

<p>A business case for this would be when you have an input field and a separate button that activates a search, and you want an enter event in the input field to execute the search.  In this case, you would set up the input field object as follows in your handlebars file.  Note the empty "onClick" property, as all onClick events would actually be handled by the delegated clickControl.</p>

<pre><code>{
    "id":"#inputField",
    "clickModes":"keyup[13]",
    "clickControl":"#searchButton",
    "clickControlEvt":"click",
    "tab":1,
    "onClick":{}
}
</code></pre>

<p>In the above example, a "keyup" event on the Enter key (keycode 13), will result in a "click" event being dispatched to the "searchButton" element.</p>

<h2>
<a name="modal-interfaces" class="anchor" href="#modal-interfaces"><span class="octicon octicon-link"></span></a>Modal Interfaces:</h2>

<p>By default, an "onClick" interaction will removeremove all elements from the current Tab Order and replace them with a new set of Navigation rules, as in the case with a modal menu.  If we want to preserve the previous Tab Order and just append to it, we can simply specify '"preserveTabs":true' to the onClick event, as below:</p>

<h2>
<a name="example-3" class="anchor" href="#example-3"><span class="octicon octicon-link"></span></a>Example #3:</h2>

<pre><code>...
"onClick":{
    "preserveTabs":true,  
    "objects":
        [  
            {  
                "id":"#thirdControl",
                "tab":3
            }
        ]
}
...
</code></pre>

<h2>
<a name="applying-focus" class="anchor" href="#applying-focus"><span class="octicon octicon-link"></span></a>Applying Focus:</h2>

<p>Occasionally, you might want a page interaction to focus a new element for the benefit of Screen-reading technologies.  To do this, we can add a "focus" property to the onClick object, as shown below.</p>

<h2>
<a name="example-4" class="anchor" href="#example-4"><span class="octicon octicon-link"></span></a>Example #4:</h2>

<pre><code>...
"onClick":{
    "preserveTabs":false,
    "focus":{  
        "id":"#thirdControl"
    },
    "objects":
        [  
            {  
                "id":"#thirdControl",
                "tab":3
            }
        ]
}
...
</code></pre>

<p>Note the wrapper; the focus property accepts an object containing an id key/value pair, just like in the "objects" property, not just a CSS selector.</p>

<h2>
<a name="going-back" class="anchor" href="#going-back"><span class="octicon octicon-link"></span></a>Going "Back":</h2>

<p>Occasionally, as in the case of single-page applications with full-screen modal dialogs, you may have a 'close' button that brings a user back to to an earlier application state.  Instead of re-nesting all your tab-navigable controls again in an onClick property, you can use the 'back' property to tell Accessifizr to fetch an earlier tab navigation from up the Handlebars tree.</p>

<h3>
<a name="example-5" class="anchor" href="#example-5"><span class="octicon octicon-link"></span></a>Example #5:</h3>

<pre><code>{"tabOrder":{
    "objects":
        [  
            {  
                "id":"#firstControl",
                "tab":1,
                "clickModes":"click,keyup[13|32]",
                "onClick":{
                    "preserveTabs":false,
                    "focus":{  
                        "id":"#thirdControl"
                    },
                    "objects":
                        [  
                            {
                                "id":"#thirdControl",
                                "tab":3
                                "clickModes":"click,keyup[13|32]",
                                "onClick":{
                                    "preserveTabs":false,
                                    "back":1,
                                    "focus":{  
                                        "id":"#firstControl"
                                    }
                                }
                            }
                        ]
                }
            },
            {  
                "id":"#secondControl",
                "tab":2
            }
        ]
    }
}
</code></pre>

<p>In the example above, when the thirdControl is clicked, or a keyup event is recieved on that element from the Enter Key or the Spacebar, Accessifizr will float up "1" level to the surrounding "objects" array and re-apply the Tab Navigation rules to firstControl and secondControl.  If you have a deeply nested mode, and need to reapply rules from several 'steps' up, the value of "back" corresponds to the number of nests to migrate up.</p>

<h2>
<a name="closing-by-escaping" class="anchor" href="#closing-by-escaping"><span class="octicon octicon-link"></span></a>Closing by Escaping:</h2>

<p>Your keyboard-navigating users may find needing to explicitly tab to and activate a 'close' button needlessly complicated.  Typically, the 'Escape' key is used for this purpose to close current menus or dialogs.  To achieve this, Accessifizr can be configured to dispatch click events to close controls when a user clicks the Escape key on any of your tab-navigable elements, as shown with the 'onEsc' parameter below.  Note that it appears in onClick, rather than on the individual objects.</p>

<h2>
<a name="example-6" class="anchor" href="#example-6"><span class="octicon octicon-link"></span></a>Example #6:</h2>

<pre><code>...
"id":"#originalControl",
"tab":1,
"clickModes":"click,keyup[13|32]",
"onClick":{
    "preserveTabs":false,
    "focus":{  
        "id":"#thirdControl"
    },
    "escModes":"keyup[27]",
    "onEsc":{  
        "escControl":"#closeControl",
        "escControlEvt":"click"
    },
    "objects":
        [  
            {
                "id":"#closeControl",
                "tab":3
                "clickModes":"click,keyup[13|32]",
                "onClick":{
                    "back":1,
                    "focus":{  
                        "id":"#originalControl"
                    }
                }
            },
            {
                "id": "#anotherControl",
                "tab":4
            }
        ]
}
...
</code></pre>

<p>This might look a little confusing at first, so let's step through what's going on.  First, we've wired up the "closeControl" element to be our actual close control.  Clicking or keying up with Enter or Space on this element will result in the previous tabOrder being re-applied to the application, and focus landing back on the "originalControl" element.</p>

<p>In the onClick property, we've specified "escMode" and "onEsc" properties, which will be applied to each of our onClick objects.  For all page elements specified in the "objects" property of the "onClick", a keyup event on the Escape key (keycode 27) will be interpreted as a 'click' event on the #closeControl element.  This will activate the #closeControl element in turn.</p>

<h2>
<a name="css-selectors" class="anchor" href="#css-selectors"><span class="octicon octicon-link"></span></a>CSS Selectors:</h2>

<p>Not all objects specified in the handlebars.json file need to be unique identifiers.  In cases where, for instance, an onClick event on a Search button should apply the same Handlebars rules to a list of result elements all sharing a .searchResult Class, you can specify a class selector instead.</p>

<h2>
<a name="example-7" class="anchor" href="#example-7"><span class="octicon octicon-link"></span></a>Example #7:</h2>

<pre><code>...
"onClick":{  
    "preserveTabs":true,
    "objects":
        [  
            {  
            "id":".searchResult",
            "tab":"3",
            "clickModes":"click,keyup[13]",
            "clickControl":"self",
            "clickControlEvt":"click",
            "onClick":{  
                "preserveTabs":false,
                "focus":{  
                    "id":"#resultTitle"
                },
                "objects":
                [  
                    {  
                        "id":"#resultTitle",
                        "tab":2
                    },
                    {  
                        "id":"#resultDetails",
                        "tab":2
                    }
                ]
            }
        }
    ]
}
...
</code></pre>

<h2>
<a name="screen-reader-compatibility" class="anchor" href="#screen-reader-compatibility"><span class="octicon octicon-link"></span></a>Screen Reader Compatibility:</h2>

<p>The methods by which Accessifizr applies Tab Navigation should be compatible with most modern Desktop screen reader technology.  Due to the lack of Aria support on most mobile browser technologies, Accessifizr cannot reliably control Tab Navigation on these devices.  We are currently attempting to develop a method of hiding by use of the applyAria flag in Accessifizr's init.</p>

<p>The use of Accessifizr is not a guarantee of your application's accessibility for the purposes of conforming to corporate or legal standards and requirements.  Always verify the accessibility of your application with an expert, even when using Accessifizr as a tool to make retrofitting your applications easier.</p>

<h2>
<a name="experimental" class="anchor" href="#experimental"><span class="octicon octicon-link"></span></a>Experimental:</h2>

<h2>
<a name="aria" class="anchor" href="#aria"><span class="octicon octicon-link"></span></a>Aria:</h2>

<p>Accessifizr can attempt to apply appropriate Aria tagging to Tab Navigable elements, and hide non-participating elements from screen readers.  To enable this capability, which should work for modern Desktop screenreaders but is not currently supported for all Mobile devices (Notably anything below Android 4.4 and iOS 6), add the following key value pair to your accessifizr.Init parameter:</p>

<blockquote>
<pre><code>  &lt;script type="text/javascript"&gt;
      require(["js/Accessifizr-0.9","dojo/text!js/handlebars.json", "dojo/domReady!"], function(Accessifizr, data) {
          Accessifizr.init({"data": data, "applyAria": true});
      });
  &lt;/script&gt;
</code></pre>
</blockquote>

<h2>
<a name="grids" class="anchor" href="#grids"><span class="octicon octicon-link"></span></a>Grids:</h2>

<p>Currently, Accessifizr has beta support for Dojo dGrid elements.  To apply a TabIndex to a Dojo dGrid, specify an object in your Handlebars file as follows:</p>

<pre><code>{  
    "id":"#grid",
    "tab":"4",
    "gridConfig":{  
        "type":"dgrid"
    }
}
</code></pre>

<p>Future support will allow for appropariate Aria styling and keyboard navigation within basic </p><table> elements.</table>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/cmndrbensisko">cmndrbensisko</a> can be found on <a href="https://github.com/cmndrbensisko/Accessifizr.js">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
